#这个文件主要用于配置基本的参数，这些参数会被用于local_costmap和global_costmap http://wiki.ros.org/navigation/Tutorials/RobotSetup

#定义了将要向costmap传递信息的传感器列表，设定导航包所使用的传感器发布的话题,同时作为以下的命名空间
# observation_sources: scan
# #topic表示传感器发布的话题名称，而marking和clearing参数用来表示是否需要使用传感器的实时信息来添加或清除代价地图中的障碍物信息
# scan: {data_type: LaserScan, topic: /scan, marking: true, clearing: true}

# #将障碍物插入代价地图的最大范围/米，检测到一个距离小于2.5m的障碍物，就会将这个障碍物引入到代价地图中
# obstacle_range: 2.5

# #从地图中扫描出障碍物的最大范围/米，实时观察3m范围内代价地图中的障碍物
# raytrace_range: 3

# #代价比例系数，越大则代价值越小
# cost_scaling_factor: 25

# #将机器人的几何参数告诉导航功能包集，footprint表示多边形面积，robot_radius表示圆形
# #footprint: [[0.1, 0.15], [-0.1, 0.15], [-0.1, -0.15], [0.1, -0.15]]
# robot_radius: 0.01
# #等待坐标变换发布信息的超时时间
# transform_tolerance: 2 
# #膨胀半径，扩展在碰撞区域以外的代价区域，给定机器人与障碍物之间必须要保持的最小距离0.20
# inflation_radius: 0.5
# #代价地图精度，即每个网格的尺寸
# resolution: 0.01

# map_type: costmap

# always_send_full_costmap: true

# obstacle_layer:
#  enabled: true
#  obstacle_range: 3.0
#  raytrace_range: 4.0
#  inflation_radius: 0.25
#  track_unknown_space: true
#  combination_method: 1

#  observation_sources: laser_scan_sensor
#  laser_scan_sensor: {data_type: LaserScan, topic: scan, marking: true, clearing: true}


# inflation_layer:
#   enabled:              true
#   cost_scaling_factor:  10.0  # exponential rate at which the obstacle cost drops off (default: 10)
#   inflation_radius:     0.9  # max. distance from an obstacle at which costs are incurred for planning paths.

# static_layer:
#   enabled: true
#   map_topic:            "/map"
#   inflation_radius:     0.55

#robot_radius: 0.08
robot_radius: 0.05

footprint: [[0.171, -0.128], [0.171, 0.128],[-0.171, 0.128], [-0.171, -0.128]]

obstacle_layer:
  enabled: true
  combination_method: 1
  track_unknown_space: true
  obstacle_range: 2.0  # 2.0 改成3.0会导致第一个房间门口障碍物摆放时全局路径夹断
  raytrace_range: 2.0  # 2.0
  observation_sources: laser_scan_sensor
  laser_scan_sensor: {
    sensor_frame: laser_frame,
    data_type: LaserScan,
    topic: scan,
    #topic: lidar_undistortion/scan,
    marking: true,
    clearing: true,
    inf_is_valid: true
  }
 
inflation_layer:
  enabled: true
  cost_scaling_factor: 20.0 #5.0
# inflation_radius: 0.23
  inflation_radius: 0.23 # 修改这个可以改变膨胀系数
#0.15
 
static_layer:
  enabled: true
